<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote of the Day</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,700;1,600&family=Playfair+Display:ital,wght@0,500;0,600;0,700;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="quote-box">
        <h2>Quote of the Day</h2>
        <blockquote id="quote">Loading...</blockquote>
        <span id="author">Loading...</span>
        <div>
            <button id="newQuote">New Quote</button>
            <button id="tweetQuote">Tweet</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const quote = document.getElementById("quote");
            const author = document.getElementById("author");
            const newQuoteBtn = document.getElementById("newQuote");
            const tweetBtn = document.getElementById("tweetQuote");

            let quotesData = [];

            // Fetch quotes from API
            async function fetchQuotes() {
                try {
                    const response = await fetch("https://type.fit/api/quotes");
                    if (!response.ok) throw new Error("Failed to fetch quotes");
                    quotesData = await response.json();
                    displayRandomQuote();
                } catch (err) {
                    console.error(err);
                    quote.textContent = "Could not fetch quotes!";
                    author.textContent = "";
                }
            }

            // Display a random quote
            function displayRandomQuote() {
                if (quotesData.length === 0) return;
                const random = quotesData[Math.floor(Math.random() * quotesData.length)];
                quote.textContent = random.text;
                author.textContent = random.author || "Unknown";
            }

            // Tweet the current quote
            function tweetQuote() {
                const tweetText = `"${quote.textContent}" ---- by ${author.textContent}`;
                const tweetUrl = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(tweetText);
                window.open(tweetUrl, "TweetWindow", "width=600,height=300");
            }

            // Event listeners
            newQuoteBtn.addEventListener("click", displayRandomQuote);
            tweetBtn.addEventListener("click", tweetQuote);

            // Initial load
            fetchQuotes();
        });
    </script>
</body>
</html>
